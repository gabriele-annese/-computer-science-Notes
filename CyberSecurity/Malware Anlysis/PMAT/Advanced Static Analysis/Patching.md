Given that we have a PE on our pc we can edit that to perform specific actions.

## Example
Sample for this section:Â `PMAT-labs\labs\2-4.BinaryPatching\SimplePatchMe`.

First we can create a copy of this malware.
```bash
 cp .\main.exe .\main2.exe
```

upload main2.exe in the cutter software. We can notice this malware is written in using nim. The main function in nim is `@NimMainModule@0()`
![[Pasted image 20250103081021.png]]
In graph view we can notice the code take two directions in base of the reset of `evaluate_http_body__main_3@0();` function. If the result of `test al,al` is 0 the code go on the left side and execute the `run_payload__main_452@0();` function.
![[Pasted image 20250103081405.png]]

In fact if we execute the code return the `[-] No dice, sorry :(` result
![[Pasted image 20250103082712.png]]

### The Patch
We can manipulate the assembly code to redirect the flow in that we want. In this case we want execute the  `run_payload__main_452` function
![[Pasted image 20250103084325.png]]

right click on the `jne` instruction and click on edit `reverse jump`
![[Pasted image 20250103084757.png]]

Now if we execute the PE we can see the flow as been changed! 
![[Pasted image 20250103084942.png]]
